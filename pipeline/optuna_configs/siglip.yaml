# Optuna Configuration for SigLIP Model Optimization

study_name: "siglip_tuning"
n_trials: 50
timeout: null
storage: "sqlite:///optuna_siglip.db"
n_jobs: 2

# Search space focused on SigLIP architecture
search_space:
  # Model architecture - SigLIP only
  head_type:
    type: categorical
    choices: ['siglip']
  
  output_dim:
    type: categorical
    choices: [256, 512, 768, 1024]
  
  dropout:
    type: float
    low: 0.0
    high: 0.2  # SigLIP typically uses lower dropout
  
  # Loss configuration - SigLIP specific
  loss_type:
    type: categorical
    choices: ['sigmoid_infonce']  # SigLIP's signature loss
  
  temperature:
    type: float
    low: 0.005
    high: 0.05  # SigLIP uses lower temperatures
    log: true
  
  # Training hyperparameters
  batch_size:
    type: categorical
    choices: [512, 1024, 2048, 4096]
  
  learning_rate:
    type: float
    low: 5.0e-5
    high: 5.0e-4
    log: true
  
  weight_decay:
    type: float
    low: 1.0e-3
    high: 5.0e-2
    log: true

# ASHA pruner settings
pruner:
  type: "SuccessiveHalvingPruner"
  min_resource: 2
  reduction_factor: 3
  min_early_stopping_rate: 1